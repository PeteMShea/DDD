<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_fswormA</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-30</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_index = irandom_range(0 ,7);
animspeed = random_range(0.14, 0.18);
image_speed = animspeed;
direction = image_angle;
speed = random_range(2.8, 3.2);

scale = 0.2     //starting size
scaleinc = 0.1;
image_xscale = scale;
image_yscale = scale;

swerveangle = 1.5;  //degrees which worm turns towards the central column if outside of it

//central column extents for worms
columnx1 = obj_formless.x - 25 - random(4);
columnx2 = obj_formless.x + 25 + random(4);
insidecolumn = false;
straight = false;

collisioncounter = 15; //how often to check for collisions with ground
hitground = false;
timetofade = 60;        //number of frames on ground before starting to fade
startfade = false;
alphafade = 0.025;

once = false;





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if once == false        //this has to happen here as image_angle has not quite been defined on create 
    {
        once = true;
        startangle = obj_formless.image_angle + 270;       //'downwards' from the spawn
        fanangle = random_range(-45, 45);
        grounddirection = startangle + fanangle;
        timetofade += abs(fanangle);        //add time based upon how far out fan angle on land is
    }

if scale &lt; 1        //scale up on spawn
    {
        image_xscale = scale;
        image_yscale = scale;
        scale += scaleinc;    
    }

//move the worm forwards until it reaches the ground

direction = image_angle;    //face forwards


if hitground == false
    {
    //if outside the central column- head towards it
    if x &gt;= columnx1 &amp;&amp; x &lt;= columnx2   //inside the column- straighten up to vertical again
        {
            insidecolumn = true;
        }
    if insidecolumn == true &amp;&amp; straight == false
        {
            angle = round(image_angle);
            if straight == false &amp;&amp; angle &lt; startangle - 1
                    {
                        image_angle += swerveangle;
                    }
            if straight == false &amp;&amp; angle &gt; startangle + 1
                    {
                        image_angle -= swerveangle;
                    }
            if angle &gt;= startangle -1 &amp;&amp; angle &lt;= startangle - 1 straight = true
        } 
    if insidecolumn == false
        {
            if x &lt; columnx1 image_angle += swerveangle
            if x &gt; columnx2 image_angle -= swerveangle
        }
           
    collisioncounter -= 1;
    
    if collisioncounter &lt; 0
        {
            collisioncounter = 30;
            if instance_place(x, y + 100, obj_newblock)     //check ahead of the worm so it begins slow and fan out ahead of reaching it
            {
                hitground = true;
                speed = speed * 0.5;        //slow down            
            }
        }
}
if hitground = true &amp;&amp; startfade == false
    {
        if image_angle &lt; grounddirection - 1 image_angle += swerveangle;
        if image_angle &gt; grounddirection + 1 image_angle -= swerveangle;        
        timetofade -= 1;
        if timetofade &lt;= 0 startfade = true    
    }

if startfade == true
    {
        if image_alpha &gt; 0 image_alpha -= alphafade;
        if image_alpha &lt;= 0 instance_destroy();
    
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
